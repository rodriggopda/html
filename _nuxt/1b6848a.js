(window.webpackJsonp=window.webpackJsonp||[]).push([[46,44,45],{448:function(e,t,r){e.exports=r.p+"img/municipe-logo.ac357f4.svg"},464:function(e,t,r){var content=r(513);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("3d62fa7e",content,!0,{sourceMap:!1})},465:function(e,t,r){var content=r(515);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("58abe5ea",content,!0,{sourceMap:!1})},512:function(e,t,r){"use strict";r(464)},513:function(e,t,r){var o=r(12)(!1);o.push([e.i,".flex-1[data-v-9d9b4608]{display:flex;flex:1;flex-direction:column;justify-content:space-evenly}.fields .input[data-v-9d9b4608]{width:100%;color:#fff;background-color:hsla(0,0%,100%,.13)}.fields .input[data-v-9d9b4608]::-moz-placeholder{color:#fff;opacity:.7}.fields .input[data-v-9d9b4608]:-ms-input-placeholder{color:#fff;opacity:.7}.fields .input[data-v-9d9b4608]::placeholder{color:#fff;opacity:.7}.fields .input[data-v-9d9b4608]:first-child{border-radius:8px 8px 0 0;margin-bottom:2px}.fields .input[data-v-9d9b4608]:nth-child(2){border-radius:0 0 8px 8px}.error-sheet[data-v-9d9b4608]{background-color:red}.password-feedback[data-v-9d9b4608]{margin-top:10px;display:flex;justify-content:space-between}.button-text[data-v-9d9b4608]{cursor:pointer;text-transform:uppercase!important;letter-spacing:.03em}",""]),e.exports=o},514:function(e,t,r){"use strict";r(465)},515:function(e,t,r){var o=r(12)(!1);o.push([e.i,".small[data-v-5bb2a461]{font-size:14px;letter-spacing:.02em;font-weight:500}",""]),e.exports=o},550:function(e,t,r){var content=r(620);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("4a248fc9",content,!0,{sourceMap:!1})},583:function(e,t,r){"use strict";r.r(t);r(8),r(5),r(7),r(14),r(6),r(15);var o=r(3),n=r(22),c=(r(79),r(448)),l=r.n(c);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{logo:l.a,email:"",password:"",error:{status:!1,message:""},passwordVisible:!1}},mounted:function(){},methods:{login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/auth/login",{email:"".concat(e.email,"@municipeapp.com.br"),password:e.password}).then((function(t){localStorage.setItem("access_token",t.data.data.access_token),localStorage.setItem("expires",t.data.data.expires),localStorage.setItem("refresh_token",t.data.data.refresh_token),e.setCurrentUser(localStorage.getItem("access_token"))})).catch((function(t){if(t.response)switch(t.response.status){case 400:e.error={status:!0,message:"Informe seu email e senha para entrar."};break;case 401:e.error={status:!0,message:"Verifique se seu email e senha estão corretos."};break;default:e.error={status:!0,message:"Não foi possível fazer login."}}else e.error={status:!0,message:"Não foi possível fazer login."}}));case 2:case"end":return t.stop()}}),t)})))()},setCurrentUser:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.get("/users/me",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var data=f({},e.data.data);t.$store.commit("user/setCurrentUser",data),localStorage.setItem("user",JSON.stringify(e.data.data)),t.$store.state.user.data!=={}&&t.$router.push("/")}));case 2:case"end":return r.stop()}}),r)})))()}}},v=(r(512),r(35)),h=r(69),w=r.n(h),x=r(664),y=r(268),_=r(422),k=r(45),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-1"},[r("v-container",{staticClass:"pa-5 text-center"},[r("img",{attrs:{src:e.logo,alt:"C-APP logo",width:"122"}})]),e._v(" "),r("v-container",{staticClass:"pa-5"},[r("span",{staticClass:"small white--text text-uppercase mb-3 d-block"},[e._v("Faça Login usando:")]),e._v(" "),r("div",[r("div",{staticClass:"fields mb-5"},[r("input",{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"pa-3 input",attrs:{type:"text",label:"Email ou CPF",placeholder:"CPF (somente números)",solo:"",autocomplete:"off"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),"checkbox"==(e.passwordVisible?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"pa-3 input",attrs:{label:"Senha",placeholder:"Senha",solo:"",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var r=e.password,o=t.target,n=!!o.checked;if(Array.isArray(r)){var c=e._i(r,null);o.checked?c<0&&(e.password=r.concat([null])):c>-1&&(e.password=r.slice(0,c).concat(r.slice(c+1)))}else e.password=n}}}):"radio"==(e.passwordVisible?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"pa-3 input",attrs:{label:"Senha",placeholder:"Senha",solo:"",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"pa-3 input",attrs:{label:"Senha",placeholder:"Senha",solo:"",type:e.passwordVisible?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("div",{staticClass:"password-feedback"},[r("span"),e._v(" "),r("span",{staticClass:"white--text button-text small",on:{click:function(t){e.passwordVisible=!e.passwordVisible}}},[e._v("Mostrar Senha")])])]),e._v(" "),r("v-btn",{staticClass:"pa-6 small rounded-lg",attrs:{block:"",type:"button",elevation:"0",color:"white primary--text",rille:{class:"primary--text"}},on:{click:e.login}},[e._v("Entrar")])],1),e._v(" "),r("v-bottom-sheet",{staticClass:"error-sheet",model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[r("v-sheet",{attrs:{color:"secondary"}},[r("v-container",{staticClass:"py-5 px-10 white--text text-center"},[e._v("\n          "+e._s(e.error.message)+"\n        ")])],1)],1)],1)],1)}),[],!1,null,"9d9b4608",null);t.default=component.exports;w()(component,{VBottomSheet:x.a,VBtn:y.a,VContainer:_.a,VSheet:k.a})},584:function(e,t,r){"use strict";r.r(t);var o={data:function(){return{status:!1}}},n=(r(514),r(35)),c=r(69),l=r.n(c),d=r(664),f=r(268),m=r(422),v=r(45),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("div",{staticClass:"white--text text-center mb-3"},[e._v("Ainda não possui cadastro?")]),e._v(" "),r("v-btn",{staticClass:"rounded-lg pa-6 small",attrs:{block:"",color:"secondary"},on:{click:function(t){return e.$router.push("register")}}},[e._v("Cadastre-se agora")]),e._v(" "),r("v-bottom-sheet",{staticClass:"error-sheet",model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[r("v-sheet",{attrs:{color:"secondary"}},[r("v-container",{staticClass:"py-5 px-10 white--text text-center"},[e._v("\n        Não é possível se cadastrar na versão de testes. Consulte um administrador.\n      ")])],1)],1)],1)}),[],!1,null,"5bb2a461",null);t.default=component.exports;l()(component,{VBottomSheet:d.a,VBtn:f.a,VContainer:m.a,VSheet:v.a})},619:function(e,t,r){"use strict";r(550)},620:function(e,t,r){var o=r(12)(!1);o.push([e.i,".screen[data-v-2f7c1831]{display:flex;flex-direction:column;min-height:100vh}",""]),e.exports=o},669:function(e,t,r){"use strict";r.r(t);var o=r(583),footer=r(584),n={layout:"guest",middleware:"guest",components:{FormLogin:o.default,FooterLogin:footer.default},data:function(){return{}},mounted:function(){},methods:{}},c=(r(619),r(35)),l=r(69),d=r.n(l),f=r(422),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"primary screen",attrs:{fluid:""}},[r("FormLogin"),e._v(" "),r("FooterLogin")],1)}),[],!1,null,"2f7c1831",null);t.default=component.exports;d()(component,{VContainer:f.a})}}]);